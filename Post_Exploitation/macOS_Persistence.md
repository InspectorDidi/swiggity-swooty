# macOS Persistence
A collection of notes on various techniques and procedures to aid in maintaining persistent access to an asset.

## iTerm2
iTerm2 is one of the most commonly installed third party applications in macOS environments, especially so among the developer and IT community. As such here are some techinques I've discovered that leverage the popularity of iTerm2 to our advantage.

### Autolaunching Scripts
There are two directories which iTerm2 checks for `AutoLaunch` scripts during execution. These AutoLaunch scripts are intended to allow users to automate a number of start-up tasks via iTerm2's AppleScript Scripting Definition. While this is the intention, iTerm2 will blindly execute whatever code is in the `Autolaunch.scpt` file regardless of whether or not the code bothers to interact with iTerm2.

Autolaunch.scpt locations:

- `~/Library/Application Support/iTerm2/Scripts/AutoLaunch.scpt` 
	- This location is checked first and may not exist on your system
	- Go ahead and create the `~/Library/Application Support/iTerm2/Scripts/` directory if it doesn't already exist.
	- If this directory doesn't exist the next path is checked as a legacy fallback.
- `~/Library/Application Support/iTerm/Scripts/AutoLaunch.scpt`
	- !! DEPRECATION NOTICE !! This path is only being checked due to legacy reasons and should be considered deprecated. If you rely on this path to always be an option it may eventually come back to bite you.
